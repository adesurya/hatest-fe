<!-- Error Page for 404 Not Found and other errors (continued) -->
<!-- views/pages/error.ejs (Updated version) -->

<%- include('../partials/header') %>
<%- include('../partials/navbar') %>

<!-- Error Section -->
<section class="error-section py-5">
    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <div class="error-content">
                    <% if (status === 404) { %>
                        <img src="/images/404.jpg" alt="404 Error" class="img-fluid mb-4" style="max-height: 250px;">
                    <% } else { %>
                        <img src="/images/404.jpg" alt="Error" class="img-fluid mb-4" style="max-height: 250px;">
                    <% } %>
                    
                    <h1 class="display-4 fw-bold mb-3">
                        <% if (status === 404) { %>
                            404 - Page Not Found
                        <% } else { %>
                            <%= status || 500 %> - Error
                        <% } %>
                    </h1>
                    
                    <p class="lead mb-4"><%= message || 'An unexpected error has occurred.' %></p>
                    
                    <div class="error-actions">
                        <% if (user && (user.role === 'admin' || user.is_admin === 1)) { %>
                            <a href="/admin/dashboard" class="btn btn-primary me-2">
                                <i class="fas fa-tachometer-alt me-2"></i> Go to Admin Dashboard
                            </a>
                        <% } else if (user) { %>
                            <a href="/user/dashboard" class="btn btn-primary me-2">
                                <i class="fas fa-tachometer-alt me-2"></i> Go to Dashboard
                            </a>
                        <% } else { %>
                            <a href="/" class="btn btn-primary me-2">
                                <i class="fas fa-home me-2"></i> Back to Home
                            </a>
                        <% } %>
                        <a href="/contact" class="btn btn-outline-primary">
                            <i class="fas fa-envelope me-2"></i> Contact Support
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<%- include('../partials/footer') %>